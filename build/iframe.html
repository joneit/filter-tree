<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Test iFrame</title>
    <style>html, body { height: 100% }</style>

</head>

<body>

   <div style="width:216px; height:64px; display: inline-block; position:relative; background-image:url(filters.png); background-size:100%; background-repeat: no-repeat; z-index:5">
        <input name="LastName" class="filter-box" readonly autocomplete="off" /><div class="filter-box-dropdown-icon"></div>
        <select class="filter-box-dropdown" size="8"></select>
        <input name="BirthState" class="filter-box" style="left:111px" readonly autocomplete="off" /><div class="filter-box-dropdown-icon" style="left:195px"></div>
        <select class="filter-box-dropdown" size="8" style="left:111px"></select>
    </div>

    <div style="display: inline-block; font-size: small; margin: 0 1em .5em 1em; color: red">
        <em>click<br>here!<br></em>
        <span style="font-size: x-large; font-weight: bold;">&#x2190;</span>
    </div>

    <div style="display: inline-block; white-space: nowrap; text-align: center; background-color:white; border:1px solid grey;padding-bottom:2px; line-height: 1em">
        <div style="margin-bottom: 3px; padding-bottom: 3px; padding-top:2px; background-color:grey; color:white; font-weight:bold">examples:</div>
        <code style="font-size: 7pt; font-weight: normal">
            50<br/>
            < 50<br/>
            &nbsp;>=A and <=L&nbsp;<br/>
        </code>
    </div>

    <p id="properties">
        <strong>Filter cell parsing options:</strong>
        Recognize column names by
        <label><input type="checkbox" class="property" id="AUTO_COLUMN_LOOKUP_BY_NAME" checked>name</label>
        <label><input type="checkbox" class="property" id="AUTO_COLUMN_LOOKUP_BY_ALIAS" checked>alias</label>
        <span style="white-space: nowrap">(<label><input type="checkbox" class="property" id="CASE_SENSITIVE_COLUMN_NAMES">case-sensitive</label>)</span>
    </p>

    <div class="tabz">

        <input type="button" class="demoButton" value="validate" onclick="harness.invalid()" style="float:right" />

        <p>
            The Hypergrid filter tree has two main branches (or <i>subtrees</i>),<br>
            one for the table filters and one for the column filters.

            <a class="more-info" href="javascript:void(0)" onclick="harness.moreinfo(this.parentElement.nextElementSibling)"></a>

            <div class="more-info">
                <p>
                    These filter subexpressions are both required (<code>AND</code>&rsquo;d together), resulting in a subset of <em>qualified rows</em> which have passed through both filters.
                    It's called a <dfn>tree</dfn> because it contains both <dfn>branches</dfn> and <dfn>leaves</dfn>.
                    The leaves represent <dfn>conditional expressions</dfn> (or simply <dfn>conditionals</dfn>).
                    The branches, also known as <dfn>subtrees</dfn>, contain leaves and/or other branches and represent subexpressions that group conditionals together.
                    Grouped conditionals are evaluated together, before conditionals outside the group.
                </p>
            </div>
        </p>

        <header class="tabz-bg2">
            Table filter
        </header>

        <section class="tabz-bg2" style="min-height:987px">

            <p>The table filter can be viewed in the Query Builder or as SQL WHERE clause syntax. Both interfaces manipulate the same underlying filter data structure.</p>

            <div class="tabz" style="margin-top:1em">
                <header id="tabTableFilterQuery" class="tabz-bg2">
                    Query Builder
                </header>

                <section class="tabz-bg2" style="min-height:887px">
                </section>

                <header id="tabTableFilterSql" class="tabz-bg2">
                    SQL syntax
                </header>

                <section class="filter-expression-syntax tabz-bg2" style="min-height:887px">
                    <div>
                        <p>
                            SQL WHERE clause syntax with certain restrictions.
                            <a class="more-info" href="javascript:void(0)" onclick="harness.moreinfo(this.parentElement.nextElementSibling)"></a>
                        </p>
                        <div class="more-info">
                            <ul>
                                <li>
                                    Simple expressions
                                    <ul>
                                        <li>All simple expressions must be of the form <i>column-operator-literal</i> or <i>column1-operator-column2</i>. That is, the left side must refer to a column (may not be a literal).</li>

                                        <li>Column names may be quoted with the currently set quote characters (typically double-quotes). If unquoted, they must consist of classic identifier syntax (alphanumerics and underscore, but not beginning with a numeral).</li>

                                        <li>All literals must be quoted strings (using single quotes). (In a future release we expect to support unquoted numeric syntax for columns explicitly typed as numeric.)</li>
                                    </ul>
                                </li>

                                <li>
                                    Compound expressions
                                    <ul>
                                        <li>Compound expressions are formed by connecting simple expressions with the logical operators <code>AND</code> or <code>OR</code>.</li>

                                        <li>However, all logical operators at each level in a complex expression (each parenthesized subexpression) must be homogeneous, <i>i.e.,</i> either <code>AND</code> or <code>OR</code> but not a mixture of the two. In other words, there is no implicit operator precedence; grouping of expressions must always be explicitly stated with parentheses.</li>

                                        <li>The unary logical operator <code>NOT</code> is supoorted before parentheses only. While the Query Builder and the Column Filter allow they syntax <code>&hellip; NOT <i>operator</i> &hellip;</code> (where <code><i>operator</i></code> is <code>IN</code>, <code>LIKE</code>, <i>etc.</i>), these must be expressed here with parenthethes: <code>NOT (&hellip; <i>operator</i> &hellip;)</code>.</li>

                                        <li>While the Query Builder and Column Filter syntax support the pseudo-operators <code>NOR</code> and <code>NAND</code>, in SQL these must be expressed as <code>NOT (&hellip; OR &hellip;)</code> and <code>NOT (&hellip; AND &hellip;)</code>, respectively.</li>

                                        <li>The Query Builder and Column Filter syntax also support the pseudo-operators <code>STARTS abc</code>, <code>ENDS xyz</code>, and <code>CONTAINS def</code>. These are expressed in SQL by <code>LIKE 'abc%'</code>, <code>LIKE '%xyz'</code>, and <code>LIKE '%def%'</code>, respectively.</li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <textarea>abc</textarea>
                </section>
            </div> <!-- table filter inner tabs -->
        </section>

        <header class="tabz-bg1">
            Column filters
        </header>

        <section class="tabz-bg1" style="min-height:987px">

            <select id="add-column-filter-subexpression" style="float:right"></select>

            <p style="margin-top:0">All column filters are AND&rsquo;d together. Each grid row is first qualified by the table filter and then successively qualified by each column filter subexpression.</p>

            <div class="tabz" style="margin-top:1em">

                <header id="tabColumnFilterQuery" class="tabz-bg1 default-tab">
                    Query Builder
                </header>

                <section class="tabz-bg1" style="min-height:887px">
                </section>

                <header id="tabColumnFiltersSql" class="tabz-bg1">
                    SQL syntax
                </header>

                <section class="filter-expression-syntax tabz-bg1" style="min-height:887px">
                    <div>
                        <p>
                            <span></span>
                            <button type="button" class="copy" title="The state of the column filters subtree expressed in SQL syntax (all the column filter subexpressions shown below AND&rsquo;d together).">
                                ALL
                            </button>
                        </p>
                        <ol></ol>
                    </div>
                </section>

                <header id="tabColumnFiltersSyntax" class="tabz-bg0">
                    Column Filter syntax
                </header>

                <section class="filter-expression-syntax tabz-bg6" style="min-height:887px">
                    <p>
                        Column filters use a simplified, compact syntax, intended to keep things short and simple and self-evident. The downside of course it is not as flexible or concise as using the Query Builder or SQL syntax.
                        <a class="more-info" href="javascript:void(0)" onclick="harness.moreinfo(this.parentElement.nextElementSibling)"></a>
                    </p>
                    <div class="more-info">
                        <ul>
                            <li>
                                Simple expressions
                                <ul>
                                    <li>All simple expressions take the form <i>operator-literal</i> or <i>operator-column2</i>. The (left side) column is always implied and is the same for all simple expressions in a compound expression. This is because column filters are always tied to a known column.</li>

                                    <li>If the operator is an equals sign (=), it may be omitted.</li>

                                    <li>Besides operators, no other punctuation is permitted, meaning that no quotation marks and no parentheses.</li>

                                    <li>If a literal exactly matches a column name or alias, the operand is not taken literally and instead refers to the value in that column. (There are properties to control what constitutes such a match: Column name, alias, or either; and the case-sensitivity of the match.)</li>

                                    <li>As literals are unquoted, any operator symbol or operator word (including logical operators for compound expressions) terminates a literal.</li>

                                    <li>An important corollary to the above features is that operators may not appear in literals.</li>
                                </ul>
                            </li>

                            <li>
                                Compound expressions
                                <ul>
                                    <li>Compound expressions are formed by connecting simple expressions with the logical operators <code>AND</code>, <code>OR</code>, <code>NOR</code>, or <code>NAND</code> ("not and").</li>

                                    <li>However, all logical operators used in a compound column filter expression must be homogeneous. You may not mix the above logical operators in a single column. (If you need to do this, create a table filter expression instead.)</li>
                                </ul>
                            </li>

                            <li>
                                Hidden logic
                                <ul>
                                    <li>If the column is also referenced in a table filter expression (on the left side of a simple expression), the column filter is flagged in its grid cell with a special star character. This is just a flag; it is not part of the syntax. <span style="color:red; font-style:italic">Not yet implemented.</span></li>
                                </ul>
                            </li>
                        </ul>
                    </div>

                    <div>
                        <p><span></span></p>
                        <ol></ol>
                    </div>
                </section>
            </div> <!-- column filters inner tabs -->
        </section>
    </div> <!-- outer tabs -->

    <div class="msg-box">
        <div class="msg-box-title">Column filter cell syntax error</div>
        <div class="msg-box-close"></div>
        <div class="msg-box-content"></div>
    </div>

</body>

</html>
