<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: FilterNode</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-conditionals.html">conditionals</a></li></ul><h3>Classes</h3><ul><li><a href="FilterLeaf.html">FilterLeaf</a></li><li><a href="FilterNode.html">FilterNode</a></li><li><a href="FilterTree.html">FilterTree</a></li><li><a href="module-conditionals-Conditionals.html">Conditionals</a></li><li><a href="ParserSQL.html">ParserSQL</a></li></ul><h3>Global</h3><ul><li><a href="global.html#addEditor">addEditor</a></li><li><a href="global.html#cleanUpAndMoveOn">cleanUpAndMoveOn</a></li><li><a href="global.html#ColumnLeaf">ColumnLeaf</a></li><li><a href="global.html#converters">converters</a></li><li><a href="global.html#copy">copy</a></li><li><a href="global.html#copyAll">copyAll</a></li><li><a href="global.html#dateConverter">dateConverter</a></li><li><a href="global.html#editors">editors</a></li><li><a href="global.html#filterCount">filterCount</a></li><li><a href="global.html#firstChildOfType">firstChildOfType</a></li><li><a href="global.html#getOpMenu">getOpMenu</a></li><li><a href="global.html#getProperty">getProperty</a></li><li><a href="global.html#initialize">initialize</a></li><li><a href="global.html#makeOpMenu">makeOpMenu</a></li><li><a href="global.html#mixInNonstandardOptions">mixInNonstandardOptions</a></li><li><a href="global.html#mixInStandardOptions">mixInStandardOptions</a></li><li><a href="global.html#numberConverter">numberConverter</a></li><li><a href="global.html#treeOperators">treeOperators</a></li></ul>
</nav>
<div id="main">

    <h1 class="page-title">Class: FilterNode</h1>

    




<section>

<header>
    
        <h2>
        FilterNode
        </h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    <h4 class="name" id="FilterNode"><span class="type-signature"></span>new FilterNode<span class="signature">()</span><span class="type-signature"></span></h4>

    
    <p class="summary"><p>A node in a filter tree.</p></p>
    



<div class="description">
    <p>A filter tree represents a <em>complex conditional expression</em> and consists of a single instance of a <a href="FilterTree.html"><code>FilterTree</code></a> object as the <em>root</em> of an <em>n</em>-ary tree.</p>
<p>Filter trees are comprised of instances of <code>FilterNode</code> objects. However, the <code>FilterNode</code> constructor is an &quot;abstract class&quot;; filter node objects are never instantiated directly from this constructor. A filter tree is actually comprised of instances of two &quot;subclasses&quot; of <code>FilterNode</code> objects:</p>
<ul>
<li><a href="FilterTree.html"><code>FilterTree</code></a> (or subclass thereof) objects, instances of which represent the root node and all the branch nodes:<ul>
<li>There is always exactly one root node, containing the whole filter tree, which represents the filter expression in its entirety. The root node is distinguished by having no parent node.</li>
<li>There are zero or more branch nodes, or subtrees, which are child nodes of the root or other branches higher up in the tree, representing subexpressions within the larger filter expression. Each branch node has exactly one parent node.</li>
<li>These nodes point to zero or more child nodes which are either nested subtrees, or:</li>
</ul>
</li>
<li><a href="FilterLeaf.html"><code>FilterLeaf</code></a> (or subclass thereof) objects, each instance of which represents a single simple conditional expression. These are terminal nodes, having exactly one parent node, and no child nodes.</li>
</ul>
<p>The programmer may extend the semantics of filter trees by extending the above objects.</p>
</div>













    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>sqlIdQts</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#sqlIdQtsObject">sqlIdQtsObject</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                    {beg:'"',end:'"'}
                
                </td>
            

            <td class="description last"><p>Quote characters for SQL identifiers. Used for both parsing and generating SQL. Should be placed on the root node.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>el</code></td>
            

            <td class="type">
            
                
<span class="param-type">HTMLElement</span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>The DOM element created by the <code>render</code> method to represent this node. Contains the <code>el</code>s for all child nodes (which are themselves pointed to by those nodes). This is always generated but is only in the page DOM if you put it there.</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















    
    </div>

    

    

    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id=".optionsSchema"><span class="type-signature">(static) </span>optionsSchema<span class="type-signature"> :object</span></h4>


<p class="summary"><p>Defines the standard options available to a node.</p></p>



<div class="description">
    <p>The following properties bear the same names as the node options they define.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">object</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id="editor"><span class="type-signature"></span>editor<span class="type-signature"> :string</span></h4>


<p class="summary"><p>Filter editor for user interface.</p></p>



<div class="description">
    <p>Name of filter editor used by this and all descendant nodes. Pertains to leaf nodes only.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">string</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>'Default'</li>
        </ul></dd>
    

    

    

    

    
</dl>






        
            
<h4 class="name" id="eventHandler"><span class="type-signature"></span>eventHandler<span class="type-signature"> :function</span></h4>


<p class="summary"><p>Event handler for UI events.</p></p>



<div class="description">
    <p>See <em>Events</em> in the <a href="http://joneit.github.io/filter-tree/index.html">readme</a> for more information.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">function</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id="keep"><span class="type-signature"></span>keep<span class="type-signature"> :boolean</span></h4>


<p class="summary"><p>Undeleteable node.</p></p>



<div class="description">
    <p>Truthy means don't render a delete button next to the filter editor for this node.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">boolean</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id="opMenu"><span class="type-signature"></span>opMenu<span class="type-signature"> :Array.&lt;menuItem></span></h4>


<p class="summary"><p>Override operator list at any node.</p></p>



<div class="description">
    <p>The default is applied to the root node and any other node without an operator menu.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Array.&lt;menuItem></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li><a href="Conditionals.html#.defaultOpMenu"><code>Conditionals.defaultOpMenu</code></a>.</li>
        </ul></dd>
    

    

    

    

    
</dl>






        
            
<h4 class="name" id="opMustBeInMenu"><span class="type-signature"></span>opMustBeInMenu<span class="type-signature"> :boolean</span></h4>


<p class="summary"><p>Truthy considers op valid only if in menu.</p></p>





    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">boolean</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id="ownSchema"><span class="type-signature"></span>ownSchema<span class="type-signature"> :Array.&lt;string></span></h4>


<p class="summary"><p>Default column schema for column drop-downs of direct descendant leaf nodes only.</p></p>





    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Array.&lt;string></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id="parent"><span class="type-signature"></span>parent<span class="type-signature"> :<a href="FilterNode.html">FilterNode</a></span></h4>


<p class="summary"><p>Reference to this node's parent node.</p></p>



<div class="description">
    <p>When this property is undefined, this node is the root node.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><a href="FilterNode.html">FilterNode</a></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id="root"><span class="type-signature"></span>root<span class="type-signature"> :<a href="FilterNode.html">FilterNode</a></span></h4>


<p class="summary"><p>Convenience reference to the root node.</p></p>





    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><a href="FilterNode.html">FilterNode</a></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id="schema"><span class="type-signature"></span>schema<span class="type-signature"> :Array.&lt;menuItem></span></h4>


<p class="summary"><p>Column schema for column drop-downs of all descendant nodes. Pertains to leaf nodes only.</p></p>





    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Array.&lt;menuItem></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id="sortColumnMenu"><span class="type-signature"></span>sortColumnMenu<span class="type-signature"> :boolean</span></h4>


<p class="summary"><p>Truthy will sort the column menus.</p></p>





    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">boolean</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id="type"><span class="type-signature"></span>type<span class="type-signature"> :string</span></h4>


<p class="summary"><p>Fields data type.</p></p>





    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">string</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id="typeOpMap"><span class="type-signature"></span>typeOpMap<span class="type-signature"> :object</span></h4>


<p class="summary"><p>Dictionary of operator menus for specific data types.</p></p>



<div class="description">
    <p>A hash of type names. Each member thus defined contains a specific operator menu for all descendant leaf nodes that:</p>
<ol>
<li>do not have their own operator menu (<code>opMenu</code> property) of their own; and</li>
<li>whose columns resolve to that type.</li>
</ol>
<p>The type is determined by (in priority order):</p>
<ol>
<li>the <code>type</code> property of the <a href="FilterLeaf.html"><code>FilterLeaf</code></a>; or</li>
<li>the <code>type</code> property of the element in the nearest node (including the leaf node itself) that has a defined <code>ownSchema</code> or <code>schema</code> array property with an element having a matching column name.</li>
</ol>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">object</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="parseStateString"><span class="type-signature"></span>parseStateString<span class="signature">(state<span class="signature-attributes">opt</span>, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#FilterTreeStateObject">FilterTreeStateObject</a>}</span></h4>

    
    <p class="summary"><p>Convert a string to a state object.</p></p>
    



<div class="description">
    <p>They string's syntax is inferred as follows:</p>
<ol>
<li>If state is undefined or already an object, return as is.</li>
<li>If <code>options.context</code> is defined, <code>state</code> is assumed to be a CSS selector string (auto-detected) pointing to an HTML form control with a <code>value</code> property, such as a <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement">HTMLInputElement</a> or a <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLTextAreaElement">HTMLTextAreaElement</a>. The element is selected and if found, its value is fetched from the DOM and assigned to <code>state</code>.</li>
<li>If <code>options.syntax</code> is <code>'auto'</code>, JSON syntax is detected if <code>state</code> begins <em>and</em> ends with either <code>[</code> and <code>]</code> <em>or</em> <code>{</code> and <code>}</code> (ignoring leading and trailing white space).</li>
<li>If JSON syntax, parse the string into an actual <code>FilterTreeStateObject</code> using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse">JSON.parse</a> and throw an error if unparsable.</li>
<li>If not JSON, parse the string as SQL into an actual <code>FilterTreeStateObject</code> using parser-SQL's <code>parser</code> and throw an error if unparsable.</li>
</ol>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>state</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#FilterTreeStateObject">FilterTreeStateObject</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#FilterTreeSetStateOptionsObject">FilterTreeSetStateOptionsObject</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The unmolested <code>state</code> parameter. Throws an error if <code>state</code> is unknown or invalid syntax.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#FilterTreeStateObject">FilterTreeStateObject</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="remove"><span class="type-signature"></span>remove<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Remove both:</p>
<ul>
<li><code>this</code> filter node from it's <code>parent</code>'s <code>children</code> collection; and</li>
<li><code>this</code> filter node's <code>el</code>'s container (always a <code>&lt;li&gt;</code> element) from its parent element.</li>
</ul>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="render"><span class="type-signature"></span>render<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Insert each subtree into its parent node along with a &quot;delete&quot; button.</p>
<p>NOTE: The root tree (which has no parent) must be inserted into the DOM by the instantiating code (without a delete button).</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="setState"><span class="type-signature"></span>setState<span class="signature">(state, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>state</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#FilterTreeStateObject">FilterTreeStateObject</a></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#FilterTreeSetStateOptionsObject">FilterTreeSetStateOptionsObject</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
    

    

    
</article>

</section>




</div>

<br class="clear">

<footer>
    © 2017 <a href="http://www.openfin.co" target="_blank">OpenFin</a> All Rights Reserved.
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>